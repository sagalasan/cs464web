{{> navbar }}

<div class="container-fluid">
    <div class="container">
        {{#if queryError}}
            <div class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <strong>Error!</strong> Cannot delete an employee that has been used in a transaction.
            </div>
        {{/if}}
        <h1>Employees</h1>

        <table class="table table-bordered table-condensed">
            <tr>
                <th>Employee ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Delete</th>
            </tr>
            {{#employees}}
                <tr>
                    <td><a href="/employees/employee?id={{employee_id}}">{{employee_id}}</a></td>
                    <td>{{first_name}} {{last_name}}</td>
                    <td>{{address}}</td>
                    <td>
                        <form role="form" action="/employees/delete/{{employee_id}}" method="post">
                            <p data-placement="top" data-toggle="tooltip" title="Delete">
                                <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal"
                                        data-target="#delete"><span class="glyphicon glyphicon-trash"></span></button>
                            </p>
                        </form>
                    </td>
                </tr>
            {{/employees}}
        </table>
    </div>
</div>

{{>queryfooter}}

{{>footer}}