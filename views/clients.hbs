{{> navbar }}

<div class="container-fluid">
    <div class="container">
        {{#if queryError}}
            <div class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <strong>Error!</strong> Cannot delete a client that has been used in a transaction.
            </div>
        {{/if}}
        <h1>Clients</h1>

        <table class="table table-bordered table-condensed">
            <tr>
                <th>Client ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Delete</th>
            </tr>
            {{#users}}
                <tr>
                    <td><a href="/clients/client?id={{client_id}}">{{client_id}}</a></td>
                    <td>{{name}}</td>
                    <td>{{address}}</td>
                    <td>
                        <form role="form" action="/clients/delete/{{client_id}}" method="post">
                            <p data-placement="top" data-toggle="tooltip" title="Delete">
                                <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal"
                                        data-target="#delete"><span class="glyphicon glyphicon-trash"></span></button>
                            </p>
                        </form>
                    </td>
                </tr>
            {{/users}}
        </table>
        <strong>Query Used:</strong>
        <pre>{{query}}</pre>
    </div>
</div>

{{>footer}}